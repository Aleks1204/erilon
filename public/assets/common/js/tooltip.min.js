$(function(){var a=$("[rel~=tooltip]"),b=!1,c=!1;a.bind("mouseenter",function(){if(b=$(this),tip=b.attr("title"),c=$('<div id="tooltip"></div>'),!tip||""==tip)return!1;b.removeAttr("title"),c.css("opacity",0).html(tip).appendTo("body");var a=function(){$(window).width()<1.5*c.outerWidth()?c.css("max-width",$(window).width()/2):c.css("max-width",340);var a=b.offset().left+b.outerWidth()/2-c.outerWidth()/2,d=b.offset().top-c.outerHeight()-20;if(a<0?(a=b.offset().left+b.outerWidth()/2-20,c.addClass("left")):c.removeClass("left"),a+c.outerWidth()>$(window).width()?(a=b.offset().left-c.outerWidth()+b.outerWidth()/2+20,c.addClass("right")):c.removeClass("right"),d<0){var d=b.offset().top+b.outerHeight();c.addClass("top")}else c.removeClass("top");c.css({left:a,top:d}).animate({top:"+=10",opacity:1},50)};a(),$(window).resize(a);var d=function(){c.animate({top:"-=10",opacity:0},50,function(){$(this).remove()}),b.attr("title",tip)};b.bind("mouseleave",d),c.bind("click",d)})});